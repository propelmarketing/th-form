<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Async form</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://api.thrivehive.com/content/WebTrack/catracker.js"></script>
<script type="text/javascript">
try {
  var cat = new CATracker('4a4573812d7642c8ab7fad661c7f8db7');
  cat.Pause = true;
  cat.TrackOutboundLinks();
  cat.PageView();
} catch (err) {
  document.write('There has been an error initializing web tracking.');
}
</script>

<script src="./THForm.bundle.js"></script>
<script>
new THForm('form', 'test', {
  poll: true,
  customValidation: true,
  mappedInputs: [
    {
      name: 'fname',
      newName: 'first_name',
      required: true
    },
    {
      name: 'lname',
      newName: 'last_name',
      required: true
    },
    {
      name: 'email',
      required: true
    }
  ]
});
</script>
</head>

<body>
  <h1>Test async form</h1>
</body>

<script>
setTimeout(() => {
  const $div = document.createElement('div')
  $div.innerHTML = `
  <form autocomplete="on" action="/" method="POST">
    <label class="caption">
      <input class="field-element field-control" name="fname" x-autocompletetype="given-name" type="text" spellcheck="false" maxlength="30" data-title="First">
      First Name
    </label>
    <label class="caption">
      <input class="field-element field-control" name="lname" x-autocompletetype="surname" type="text" spellcheck="false" maxlength="30" data-title="Last">
      Last Name
    </label>
    <label class="title" for="email">Email Address <span class="required">*</span></label>
    <input class="field-element" name="email" x-autocompletetype="email" type="text" spellcheck="false" id="email">
    <button>Submit</button>
  </form>
  `
  document.body.appendChild($div)
}, 1000)
</script>
</html>